'use strict';

function loginButton() {

    console.log('кнопка нажата');

    var login = document.getElementById('header__inputLogin').value;
    var password = document.getElementById('header__inputPassword').value;

    login = encodeURI(login);
    password = encodeURI(password);

    var json = JSON.stringify({
        login: login,
        pass: password,
        metod: 'ajax'
    });

    var xhr = new XMLHttpRequest();

    xhr.open('POST', '/index.php', true);
    xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == 200) {
            console.log(xhr.responseText);
        } else {
            console.log(xhr.status + ':' + xhr.statusText);
        }
    };

    xhr.send(json);
}

function exitButton() {
    console.log('выход');

    var json = JSON.stringify({
        logout: 1
    });

    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/index.php', true);
    xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

    xhr.onreadystatechange = function () {
        if (xhr.readyState != 4) return;

        console.log('ГОТОВо');

        if (xhr.status != 200) {
            console.log(xhr.status + ':' + xhr.statusText);
        } else {
            // console.log(xhr.responseText);

            // let login = document.getElementById('header__loginWrapper');
            // let loged = document.getElementById('header__logedWrapper');
            //
            // login.className = 'displayBlock';
            // loged.className = 'displayNone';
        }
    };

    xhr.send(json);
}

function loginButtonForm() {

    var login = document.getElementById('header__inputLoginForm').value;
    var password = document.getElementById('header__inputPasswordForm').value;

    var json = JSON.stringify({
        login: login,
        pass: password,
        metod: 'ajax'
    });

    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/auth.php', true);
    xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");

    xhr.onreadystatechange = function () {
        if (xhr.readyState == 4 && xhr.status == 200) {

            console.log(xhr.responseText);
        } else {
            console.log(xhr.status + ':' + xhr.statusText);
        }
    };

    xhr.send(json);
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImxvZ2luQnV0dG9uIiwiY29uc29sZSIsImxvZyIsImxvZ2luIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwicGFzc3dvcmQiLCJlbmNvZGVVUkkiLCJqc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhc3MiLCJtZXRvZCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsInNlbmQiLCJleGl0QnV0dG9uIiwibG9nb3V0IiwibG9naW5CdXR0b25Gb3JtIl0sIm1hcHBpbmdzIjoiOztBQUFBLFNBQVNBLFdBQVQsR0FBdUI7O0FBRW5CQyxZQUFRQyxHQUFSLENBQVksZUFBWjs7QUFFQSxRQUFJQyxRQUFRQyxTQUFTQyxjQUFULENBQXdCLG9CQUF4QixFQUE4Q0MsS0FBMUQ7QUFDQSxRQUFJQyxXQUFXSCxTQUFTQyxjQUFULENBQXdCLHVCQUF4QixFQUFpREMsS0FBaEU7O0FBRUFILFlBQVFLLFVBQVVMLEtBQVYsQ0FBUjtBQUNBSSxlQUFXQyxVQUFVRCxRQUFWLENBQVg7O0FBRUEsUUFBSUUsT0FBT0MsS0FBS0MsU0FBTCxDQUFlO0FBQ3RCUixlQUFPQSxLQURlO0FBRXRCUyxjQUFNTCxRQUZnQjtBQUd0Qk0sZUFBTztBQUhlLEtBQWYsQ0FBWDs7QUFPQSxRQUFJQyxNQUFNLElBQUlDLGNBQUosRUFBVjs7QUFFQUQsUUFBSUUsSUFBSixDQUFTLE1BQVQsRUFBaUIsWUFBakIsRUFBK0IsSUFBL0I7QUFDQUYsUUFBSUcsZ0JBQUosQ0FBcUIsY0FBckIsRUFBcUMsZ0NBQXJDOztBQUVBSCxRQUFJSSxrQkFBSixHQUF5QixZQUFZO0FBQ2pDLFlBQUtKLElBQUlLLFVBQUosSUFBa0IsQ0FBbkIsSUFBMEJMLElBQUlNLE1BQUosSUFBYyxHQUE1QyxFQUNBO0FBQ0luQixvQkFBUUMsR0FBUixDQUFZWSxJQUFJTyxZQUFoQjtBQUNILFNBSEQsTUFHTztBQUNIcEIsb0JBQVFDLEdBQVIsQ0FBWVksSUFBSU0sTUFBSixHQUFhLEdBQWIsR0FBbUJOLElBQUlRLFVBQW5DO0FBQ0g7QUFFSixLQVJEOztBQVVBUixRQUFJUyxJQUFKLENBQVNkLElBQVQ7QUFFSDs7QUFFRCxTQUFTZSxVQUFULEdBQXNCO0FBQ2xCdkIsWUFBUUMsR0FBUixDQUFZLE9BQVo7O0FBRUEsUUFBSU8sT0FBT0MsS0FBS0MsU0FBTCxDQUFlO0FBQ3RCYyxnQkFBUTtBQURjLEtBQWYsQ0FBWDs7QUFJQSxRQUFJWCxNQUFNLElBQUlDLGNBQUosRUFBVjtBQUNBRCxRQUFJRSxJQUFKLENBQVMsTUFBVCxFQUFpQixZQUFqQixFQUErQixJQUEvQjtBQUNBRixRQUFJRyxnQkFBSixDQUFxQixjQUFyQixFQUFxQyxnQ0FBckM7O0FBRUFILFFBQUlJLGtCQUFKLEdBQXlCLFlBQVk7QUFDakMsWUFBSUosSUFBSUssVUFBSixJQUFrQixDQUF0QixFQUF5Qjs7QUFFekJsQixnQkFBUUMsR0FBUixDQUFZLFFBQVo7O0FBRUEsWUFBSVksSUFBSU0sTUFBSixJQUFjLEdBQWxCLEVBQXVCO0FBQ25CbkIsb0JBQVFDLEdBQVIsQ0FBWVksSUFBSU0sTUFBSixHQUFhLEdBQWIsR0FBbUJOLElBQUlRLFVBQW5DO0FBQ0gsU0FGRCxNQUVPO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNIO0FBQ0osS0FoQkQ7O0FBa0JBUixRQUFJUyxJQUFKLENBQVNkLElBQVQ7QUFFSDs7QUFFRCxTQUFTaUIsZUFBVCxHQUEyQjs7QUFFdkIsUUFBSXZCLFFBQVFDLFNBQVNDLGNBQVQsQ0FBd0Isd0JBQXhCLEVBQWtEQyxLQUE5RDtBQUNBLFFBQUlDLFdBQVdILFNBQVNDLGNBQVQsQ0FBd0IsMkJBQXhCLEVBQXFEQyxLQUFwRTs7QUFFQSxRQUFJRyxPQUFPQyxLQUFLQyxTQUFMLENBQWU7QUFDdEJSLGVBQU9BLEtBRGU7QUFFdEJTLGNBQU1MLFFBRmdCO0FBR3RCTSxlQUFPO0FBSGUsS0FBZixDQUFYOztBQU1BLFFBQUlDLE1BQU0sSUFBSUMsY0FBSixFQUFWO0FBQ0FELFFBQUlFLElBQUosQ0FBUyxNQUFULEVBQWlCLFdBQWpCLEVBQThCLElBQTlCO0FBQ0FGLFFBQUlHLGdCQUFKLENBQXFCLGNBQXJCLEVBQXFDLGdDQUFyQzs7QUFFQUgsUUFBSUksa0JBQUosR0FBeUIsWUFBWTtBQUNqQyxZQUFLSixJQUFJSyxVQUFKLElBQWtCLENBQW5CLElBQTBCTCxJQUFJTSxNQUFKLElBQWMsR0FBNUMsRUFBa0Q7O0FBRTlDbkIsb0JBQVFDLEdBQVIsQ0FBWVksSUFBSU8sWUFBaEI7QUFHSCxTQUxELE1BS087QUFDSHBCLG9CQUFRQyxHQUFSLENBQVlZLElBQUlNLE1BQUosR0FBYSxHQUFiLEdBQW1CTixJQUFJUSxVQUFuQztBQUNIO0FBQ0osS0FURDs7QUFXQVIsUUFBSVMsSUFBSixDQUFTZCxJQUFUO0FBTUgiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBsb2dpbkJ1dHRvbigpIHtcclxuXHJcbiAgICBjb25zb2xlLmxvZygn0LrQvdC+0L/QutCwINC90LDQttCw0YLQsCcpO1xyXG5cclxuICAgIGxldCBsb2dpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJfX2lucHV0TG9naW4nKS52YWx1ZTtcclxuICAgIGxldCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJfX2lucHV0UGFzc3dvcmQnKS52YWx1ZTtcclxuXHJcbiAgICBsb2dpbiA9IGVuY29kZVVSSShsb2dpbik7XHJcbiAgICBwYXNzd29yZCA9IGVuY29kZVVSSShwYXNzd29yZCk7XHJcblxyXG4gICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbG9naW46IGxvZ2luLFxyXG4gICAgICAgIHBhc3M6IHBhc3N3b3JkLFxyXG4gICAgICAgIG1ldG9kOiAnYWpheCdcclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgeGhyLm9wZW4oJ1BPU1QnLCAnL2luZGV4LnBocCcsIHRydWUpO1xyXG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIik7XHJcblxyXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoKHhoci5yZWFkeVN0YXRlID09IDQpICYmICh4aHIuc3RhdHVzID09IDIwMCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIuc3RhdHVzICsgJzonICsgeGhyLnN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuICAgIHhoci5zZW5kKGpzb24pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZXhpdEJ1dHRvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKCfQstGL0YXQvtC0Jyk7XHJcblxyXG4gICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbG9nb3V0OiAxXHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub3BlbignUE9TVCcsICcvaW5kZXgucGhwJywgdHJ1ZSk7XHJcbiAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOFwiKTtcclxuXHJcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSAhPSA0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfQk9Ce0KLQntCS0L4nKTtcclxuXHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHhoci5zdGF0dXMgKyAnOicgKyB4aHIuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coeGhyLnJlc3BvbnNlVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAvLyBsZXQgbG9naW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGVhZGVyX19sb2dpbldyYXBwZXInKTtcclxuICAgICAgICAgICAgLy8gbGV0IGxvZ2VkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcl9fbG9nZWRXcmFwcGVyJyk7XHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIGxvZ2luLmNsYXNzTmFtZSA9ICdkaXNwbGF5QmxvY2snO1xyXG4gICAgICAgICAgICAvLyBsb2dlZC5jbGFzc05hbWUgPSAnZGlzcGxheU5vbmUnO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgeGhyLnNlbmQoanNvbik7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2dpbkJ1dHRvbkZvcm0oKSB7XHJcblxyXG4gICAgbGV0IGxvZ2luID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hlYWRlcl9faW5wdXRMb2dpbkZvcm0nKS52YWx1ZTtcclxuICAgIGxldCBwYXNzd29yZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXJfX2lucHV0UGFzc3dvcmRGb3JtJykudmFsdWU7XHJcblxyXG4gICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbG9naW46IGxvZ2luLFxyXG4gICAgICAgIHBhc3M6IHBhc3N3b3JkLFxyXG4gICAgICAgIG1ldG9kOiAnYWpheCdcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHhoci5vcGVuKCdQT1NUJywgJy9hdXRoLnBocCcsIHRydWUpO1xyXG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIik7XHJcblxyXG4gICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoKHhoci5yZWFkeVN0YXRlID09IDQpICYmICh4aHIuc3RhdHVzID09IDIwMCkpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHhoci5yZXNwb25zZVRleHQpO1xyXG5cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coeGhyLnN0YXR1cyArICc6JyArIHhoci5zdGF0dXNUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHhoci5zZW5kKGpzb24pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbn0iXX0=
